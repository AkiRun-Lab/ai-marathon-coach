# AIãƒãƒ©ã‚½ãƒ³ã‚³ãƒ¼ãƒ ä»•æ§˜æ›¸

## ğŸ“‹ æ¦‚è¦

| é …ç›® | å†…å®¹ |
|:-----|:-----|
| ã‚¢ãƒ—ãƒªå | AIãƒãƒ©ã‚½ãƒ³ã‚³ãƒ¼ãƒ |
| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | 1.0.0 |
| ç›®çš„ | ã‚¸ãƒ£ãƒƒã‚¯ãƒ»ãƒ€ãƒ‹ã‚¨ãƒ«ã‚ºç†è«–ã«åŸºã¥ããƒãƒ©ã‚½ãƒ³ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°è¨ˆç”»ã®è‡ªå‹•ç”Ÿæˆ |
| æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ | Python, Streamlit, Google Gemini API |

---

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
ai-marathon-coach/
â”œâ”€â”€ app.py                    # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config.py             # è¨­å®šå€¤ç®¡ç†
â”‚   â”œâ”€â”€ data_loader.py        # CSVãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
â”‚   â”œâ”€â”€ vdot/
â”‚   â”‚   â”œâ”€â”€ calculator.py     # VDOTè¨ˆç®—
â”‚   â”‚   â”œâ”€â”€ paces.py          # ãƒšãƒ¼ã‚¹è¨ˆç®—
â”‚   â”‚   â””â”€â”€ training.py       # ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°æœŸé–“è¨ˆç®—
â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â””â”€â”€ gemini_client.py  # Gemini APIé€£æº
â”‚   â””â”€â”€ ui/
â”‚       â”œâ”€â”€ components.py     # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚       â””â”€â”€ styles.css        # ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ vdot_list.csv         # VDOTãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
â”‚   â””â”€â”€ vdot_pace.csv         # ãƒšãƒ¼ã‚¹ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ tests/                    # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
â””â”€â”€ .streamlit/
    â””â”€â”€ secrets.toml          # APIã‚­ãƒ¼ï¼ˆGitç®¡ç†å¤–ï¼‰
```

---

## âš™ï¸ è¨­å®šå€¤ï¼ˆsrc/config.pyï¼‰

### åŸºæœ¬è¨­å®š
| å®šæ•°å | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | èª¬æ˜ |
|:-------|:-------------|:-----|
| GEMINI_MODEL_NAME | gemini-3-flash-preview | ä½¿ç”¨ã™ã‚‹Geminiãƒ¢ãƒ‡ãƒ« |
| GEMINI_TEMPERATURE | 0.7 | ç”Ÿæˆã®å‰µé€ æ€§ï¼ˆ0ã€œ2ï¼‰ |
| GEMINI_MAX_OUTPUT_TOKENS | 32768 | æœ€å¤§å‡ºåŠ›ãƒˆãƒ¼ã‚¯ãƒ³æ•° |
| MIN_TRAINING_WEEKS | 12 | æœ€ä½ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°æœŸé–“ |
| NUM_PHASES | 4 | ãƒ•ã‚§ãƒ¼ã‚ºæ•° |

### VDOTåˆ¥è¨±å®¹å·®ï¼ˆ1ã‚µã‚¤ã‚¯ãƒ«ã‚ãŸã‚Šï¼‰
| ç¾åœ¨ã®VDOT | è¨±å®¹VDOTå·® | ç†ç”± |
|:-----------|:-----------|:-----|
| ã€œ40 | 4.0 | åˆå¿ƒè€…ï¼šä¼¸ã³ã—ã‚ãŒå¤§ãã„ |
| 40ã€œ50 | 3.0 | ä¸­ç´šè€…ï¼šç€å®Ÿãªå‘ä¸Š |
| 50ã€œ55 | 2.5 | ä¸Šç´šè€…ï¼šæ”¹å–„ãŒé›£ã—ããªã‚‹ |
| 55ã€œ60 | 2.0 | ã‚¨ãƒªãƒ¼ãƒˆï¼š1ãƒã‚¤ãƒ³ãƒˆã®å·®ãŒå¤§ãã„ |
| 60ä»¥ä¸Š | 1.5 | ãƒˆãƒƒãƒ—ã‚¨ãƒªãƒ¼ãƒˆï¼šå¾®ç´°ãªæ”¹å–„ã®ã¿ |

### ç›®æ¨™VDOTåˆ¥ã®æœ€ä½ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°æ¡ä»¶
| ç›®æ¨™VDOT | ç›®æ¨™ã‚¿ã‚¤ãƒ ç›®å®‰ | æœ€ä½é€±é–“è·é›¢ | æœ€ä½ç·´ç¿’æ—¥æ•° | æœ€ä½ãƒã‚¤ãƒ³ãƒˆç·´ç¿’ |
|:---------|:---------------|:-------------|:-------------|:-----------------|
| ã€œ40 | ã‚µãƒ–4ä»¥ä¸Š | 40km | 3æ—¥ | 1å› |
| 40ã€œ45 | ã‚µãƒ–3:40 | 50km | 4æ—¥ | 1å› |
| 45ã€œ50 | ã‚µãƒ–3:20 | 60km | 4æ—¥ | 2å› |
| 50ã€œ55 | ã‚µãƒ–3:00 | 80km | 5æ—¥ | 2å› |
| 55ã€œ60 | ã‚µãƒ–2:45 | 100km | 5æ—¥ | 2å› |
| 60ä»¥ä¸Š | ã‚µãƒ–2:35ä»¥ä¸‹ | 120km | 6æ—¥ | 3å› |
| MAX_VDOT_DIFF_PER_CYCLE | 3.0 | 1ã‚µã‚¤ã‚¯ãƒ«ã§è¨±å®¹ã™ã‚‹VDOTå·® |

---

## ğŸ“Š VDOTè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯

### å…¥åŠ›
- ç¾åœ¨ã®ãƒãƒ©ã‚½ãƒ³ãƒ™ã‚¹ãƒˆã‚¿ã‚¤ãƒ ï¼ˆæ™‚:åˆ†:ç§’ï¼‰
- ç›®æ¨™ã‚¿ã‚¤ãƒ ï¼ˆæ™‚:åˆ†:ç§’ï¼‰

### å‡¦ç†
1. ã‚¿ã‚¤ãƒ ã‚’ç§’ã«å¤‰æ›
2. `vdot_list.csv`ã‹ã‚‰è©²å½“ã™ã‚‹VDOTå€¤ã‚’ç·šå½¢è£œé–“ã§ç®—å‡º
3. ç›®æ¨™VDOTã¨ã®å·®ã‚’è¨ˆç®—

### å‡ºåŠ›
- ç¾åœ¨ã®VDOT
- ç›®æ¨™VDOT
- VDOTå·®

### VDOTå·®ãŒ3.0ã‚’è¶…ãˆã‚‹å ´åˆ
- ä¸­é–“ç›®æ¨™VDOTï¼ˆç¾åœ¨VDOT + 3.0ï¼‰ã‚’è‡ªå‹•è¨­å®š
- 2æ®µéšã§ã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’æ¨å¥¨

---

## ğŸ“… ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°æœŸé–“è¨ˆç®—

### ãƒ­ã‚¸ãƒƒã‚¯
1. ãƒ¬ãƒ¼ã‚¹æ—¥ã¾ã§ã®é€±æ•°ã‚’è¨ˆç®—
2. **12é€±ä»¥ä¸Š**: ãã®é€±æ•°ã‚’ãã®ã¾ã¾ä½¿ç”¨
3. **12é€±æœªæº€**: 12é€±é–“ã®è¨ˆç”»ã‚’ç”Ÿæˆã—ã€é–‹å§‹æ—¥ã‚’ãƒ¬ãƒ¼ã‚¹æ—¥ã‹ã‚‰12é€±å‰ã«è¨­å®šï¼ˆéå»ã®æ—¥ä»˜ã«ãªã‚‹ï¼‰

### é–‹å§‹æ—¥ã®èª¿æ•´
- æœˆæ›œæ—¥ã«èª¿æ•´ï¼ˆé€±ã¯æœˆæ›œå§‹ã¾ã‚Šï¼‰

---

## ğŸ¤– Gemini APIé€£æº

### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ§‹æˆ
1. **Role**: AIãƒãƒ©ã‚½ãƒ³ã‚³ãƒ¼ãƒã®å®šç¾©
2. **ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±**: å…¥åŠ›ãƒ‡ãƒ¼ã‚¿
3. **ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦æœ›**: æœ€å„ªå…ˆã§åæ˜ 
4. **VDOTæƒ…å ±**: ç¾åœ¨ã¨ç›®æ¨™
5. **4ãƒ•ã‚§ãƒ¼ã‚ºæ§‹æˆ**: æœŸé–“ã¨VDOT
6. **å‡ºåŠ›æ§‹æˆ**: 7ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æŒ‡å®š
7. **è¡¨å½¢å¼ã®ä¾‹ç¤º**: Markdownè¡¨

### å‡ºåŠ›æ§‹æˆï¼ˆ7ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰
1. ã¯ã˜ã‚ã«
2. åŸºæœ¬æƒ…å ±
3. VDOTã¨ãƒšãƒ¼ã‚¹ã®èª¬æ˜
4. 4ãƒ•ã‚§ãƒ¼ã‚ºæ§‹æˆã®æ¦‚è¦
5. é€±é–“ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°è¨ˆç”»
6. æ³¨æ„äº‹é …
7. ã‚³ãƒ¼ãƒã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

---

## ğŸ–¥ï¸ UIä»•æ§˜

### å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
- Streamlitã®ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆä½¿ç”¨
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…æ¸ˆã¿

### çµæœè¡¨ç¤º
- VDOTè¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆé’è‰²ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- è­¦å‘Šãƒœãƒƒã‚¯ã‚¹ï¼ˆã‚ªãƒ¬ãƒ³ã‚¸ï¼‰/ æˆåŠŸãƒœãƒƒã‚¯ã‚¹ï¼ˆç·‘ï¼‰
- 4ãƒ•ã‚§ãƒ¼ã‚ºãƒ†ãƒ¼ãƒ–ãƒ«
- ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°è¨ˆç”»ï¼ˆMarkdownè¡¨ç¤ºï¼‰

### ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- UTF-8 BOMä»˜ãMarkdownãƒ•ã‚¡ã‚¤ãƒ«
- ãƒ•ã‚¡ã‚¤ãƒ«å: `training_plan_{name}_{date}.md`

---

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- APIã‚­ãƒ¼ã¯`.streamlit/secrets.toml`ã«ä¿å­˜
- `.gitignore`ã§Gitç®¡ç†ã‹ã‚‰é™¤å¤–
- ç’°å¢ƒå¤‰æ•°ã§ã®ç®¡ç†ã‚‚å¯èƒ½

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### å®Ÿè¡Œæ–¹æ³•
```bash
python3 -m pytest tests/ -v
```

### ãƒ†ã‚¹ãƒˆå†…å®¹
- VDOTè¨ˆç®—ã®æ­£ç¢ºæ€§
- æ™‚é–“å¤‰æ›ã®æ­£ç¢ºæ€§
- ãƒšãƒ¼ã‚¹è¨ˆç®—ã®æ­£ç¢ºæ€§
- ãƒ•ã‚§ãƒ¼ã‚ºVDOTè¨ˆç®—ã®æ­£ç¢ºæ€§

---

## ğŸ“¦ ä¾å­˜é–¢ä¿‚ï¼ˆrequirements.txtï¼‰

```
streamlit>=1.28.0
pandas>=2.0.0
google-genai>=1.0.0
pytest>=7.0.0
```

---

## ğŸš€ èµ·å‹•æ–¹æ³•

```bash
cd /path/to/ai-marathon-coach
python3 -m streamlit run app.py --server.port 8503
```

---

*AIãƒãƒ©ã‚½ãƒ³ã‚³ãƒ¼ãƒ v1.0.0*
